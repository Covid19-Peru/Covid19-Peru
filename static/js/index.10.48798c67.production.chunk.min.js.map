{"version":3,"sources":["components/DatosRegionesPeru.js"],"names":["DatosRegionesPeru","useState","Country","Provinces","datosRegiones","setDatosRegiones","indexDatosRegiones","setIndexDatosRegiones","loadingRegiones","setLoadingRegiones","actualizarComponente","setActualizarComponente","useEffect","a","axios","datos","data","ObtensionDatos","className","sx","borderBottomStyle","borderBottomColor","borderBottomWidth","id","value","data-live-search","data-show-subtext","onChange","e","currentTarget","backgroundColor","color","maxWidth","map","datoRegion","Object","keys","provincia","index","key","onClick","role","fecha","moment","restarFecha","undefined","format","subtract"],"mappings":"4UAgFeA,UAzEf,WAA8B,IAAD,EACiBC,mBAAS,CAAC,CAACC,QAAQ,GAAGC,UAAU,MADjD,WAClBC,EADkB,KACHC,EADG,OAE2BJ,mBAAS,YAFpC,WAElBK,EAFkB,KAEEC,EAFF,OAGqBN,oBAAS,GAH9B,WAGlBO,EAHkB,KAGDC,EAHC,OAI+BR,oBAAS,GAJxC,WAIlBS,EAJkB,KAIIC,EAJJ,KA4BzB,OAtBAC,qBAAW,YACa,+BAAG,4BAAAC,EAAA,6DACnBJ,GAAmB,GADA,SAECK,IAChB,4DAHe,OAEbC,EAFa,OAKnBV,EAAiBU,EAAMC,MACvBP,GAAmB,GANA,2CAAH,qDAQpBQ,KACD,CAACP,IAaA,8BACI,uBAASQ,UAAU,uCACf,mBAAKA,UAAU,eACX,kBAAIC,GAAI,CAACC,kBAAkB,QAASC,kBAAkB,eAAeC,kBAAkB,SACvF,mBAAKJ,UAAU,kBACVV,EAAkB,kBAAIU,UAAU,aAAd,gBAA+C,kBAAIA,UAAU,aAAd,0CAC9D,mBAAKA,UAAU,wBACX,sBAAQK,GAAG,iBAAiBC,MAAOlB,EAAoBmB,mBAAiB,OAAOC,oBAAkB,OAAOR,UAAU,gBAAgBS,SAAU,SAAAC,GAAC,OAAIrB,EAAsBqB,EAAEC,cAAcL,QAAQL,GAAI,CAACW,gBAAgB,cAAeC,MAAM,OAAQC,SAAU,UAEnPxB,EAEI,kDAEHJ,EAAe6B,KAAK,SAACC,GAAD,OACjBC,OAAOC,KAAKF,EAAW/B,WAAW8B,KAAK,SAACI,EAAUC,GAAX,OACnC,sBAAQC,IAAKD,EAAOd,MAAOa,GAAYA,WAM/D,sBAAQnB,UAAU,kBAAkBsB,QAAS,kBAAM7B,GAAyBD,KAA5E,oCAGJ,mBAAKQ,UAAU,aACX,mBAAKA,UAAU,cAAcC,GAAI,CAACY,MAAM,qBAEhCvB,EAEA,mBAAKU,UAAU,8BAA8BuB,KAAK,WAElD,8BACI,+CACA,sBAAKrC,EAAc,GAAGD,UAAUG,GAvClD,WACV,IAAMoC,EAAQC,MAEd,OARJ,SAASC,EAAYF,GACjB,YAAwFG,IAApFzC,EAAc,GAAGD,UAAUG,GAA3B,UAAkDoC,EAAMI,OAAO,gBAAuCJ,EACnGE,EAAYF,EAAMK,SAAS,EAAG,MAKbH,CAAYF,GAAOI,OAAO,cAqC8BJ","file":"static/js/index.10.48798c67.production.chunk.min.js","sourcesContent":["/** @jsx jsx */\r\nimport { jsx } from \"theme-ui\"\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport '../assets/styles/css/social.css'\r\nimport '../assets/styles/css/style.css'\r\nimport moment from 'moment'\r\nfunction DatosRegionesPeru() {\r\n    const [datosRegiones, setDatosRegiones] = useState([{Country:'',Provinces:{}}]);\r\n    const [indexDatosRegiones, setIndexDatosRegiones] = useState('AMAZONAS');\r\n    const [loadingRegiones, setLoadingRegiones] = useState(true);\r\n    const [actualizarComponente, setActualizarComponente] = useState(false);\r\n\r\n    useEffect( () => {\r\n        const ObtensionDatos = async () =>{\r\n            setLoadingRegiones(true);\r\n            const datos = await axios(\r\n                'https://covid19peru.now.sh/vistas/data/dataByRegion.json',\r\n            );\r\n            setDatosRegiones(datos.data)\r\n            setLoadingRegiones(false)   \r\n        }\r\n        ObtensionDatos();\r\n    }, [actualizarComponente]);\r\n\r\n    function restarFecha(fecha) {\r\n        if (datosRegiones[0].Provinces[indexDatosRegiones][`${fecha.format('DD-MM-YYYY')}`] !== undefined) return fecha;\r\n        return restarFecha(fecha.subtract(1, 'd'));\r\n    }\r\n    \r\n    const fecha = () =>{\r\n        const fecha = moment();\r\n        const fechaSeleccionada=restarFecha(fecha).format('DD-MM-YYYY')\r\n        return fechaSeleccionada\r\n    }\r\n    return (\r\n        <>\r\n            <section className=\"container text-center DatosRegiones\">\r\n                <div className=\"text-center\">\r\n                    <hr sx={{borderBottomStyle:`solid`, borderBottomColor:'borderNavbar',borderBottomWidth:'1px'}}></hr>\r\n                    <div className=\"my-3 container\">\r\n                        {loadingRegiones ? <h1 className=\"display-4\">Cargando ...</h1>  : <h1 className=\"display-4\">Selecciona un Departamento del Perú</h1>}\r\n                            <div className=\"container form-group\">\r\n                                <select id=\"select_country\" value={indexDatosRegiones} data-live-search=\"true\" data-show-subtext=\"true\" className=\"custom-select\" onChange={e => setIndexDatosRegiones(e.currentTarget.value)} sx={{backgroundColor:'transparent', color:'text', maxWidth: '200px'}}>\r\n                                    {\r\n                                        loadingRegiones\r\n                                        ?\r\n                                            <option>Obteniendo datos ...</option>\r\n                                        :\r\n                                        (datosRegiones).map( (datoRegion) =>(\r\n                                            Object.keys(datoRegion.Provinces).map( (provincia,index)=>(\r\n                                                <option key={index} value={provincia}>{provincia}</option>\r\n                                            ))\r\n                                        ))\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n                        <button className=\"btn btn-primary\" onClick={() => setActualizarComponente(!actualizarComponente)}>Actualizar información ahora</button>\r\n                    </div>\r\n                    \r\n                    <div className=\"container\">\r\n                        <div className=\"text-center\" sx={{color:'casosCoronavirus'}}>\r\n                            {\r\n                                loadingRegiones \r\n                                ?\r\n                                <div className=\"spinner-border text-primary\" role=\"status\"></div> \r\n                                :\r\n                                <>\r\n                                    <h2> Casos de Coronavirus</h2>\r\n                                    <h3>{datosRegiones[0].Provinces[indexDatosRegiones][fecha()]}</h3>\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </section>\r\n        </>\r\n    )\r\n}\r\nexport default DatosRegionesPeru"],"sourceRoot":""}